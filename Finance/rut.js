#!/usr/bin/env node
var request = require('request'),
moment = require('moment'),
cheerio = require('cheerio'),
colors = require('colors'),
RUT = [
    'RUSHA',
    'AKBA',
    'AMBA',
    'AMSWA',
    'ARNA',
    'ARIA',
    'ARTNA',
    'ASCMA',
    'AVA',
    'CUDA',
    'CPLA',
    'CARA',
    'CENTA',
    'CNBKA',
    'CEVA',
    'CIA',
    'DRNA',
    'DGICA',
    'ENTA',
    'ERA',
    'ESCA',
    'FCNCA',
    'GAIA',
    'GNCMA',
    'GNCA',
    'GCA',
    'GVA',
    'HA',
    'HFWA',
    'IDA',
    'IDRA',
    'IMKTA',
    'ISCA',
    'XXIA',
    'JMBA',
    'KELYA',
    'KRA',
    'LMIA',
    'MDCA',
    'MNTA',
    'MOG.A',
    'MPAA',
    'MSA',
    'MWA',
    'NRCIA',
    'NNA',
    'NUVA',
    'ORA',
    'PZZA',
    'PEGA',
    'PVA',
    'PRAA',
    'PTLA',
    'PRTA',
    'QADA',
    'RBCAA',
    'STBA',
    'SBRA',
    'SGA',
    'SAIA',
    'SENEA',
    'SPA',
    'STAA',
    'STRA',
    'SYA',
    'SMA',
    'GEVA',
    'SYNA',
    'SNTA',
    'TSRA',
    'TRLA',
    'SLCA',
    'UBA',
    'USNA',
    'VNDA',
    'VRA',
    'VLGEA',
    'VCRA',
    'WTBA',
    'WINA',
    'XCRA',
    'XOMA',
    'CBB',
    'ORB',
    'VSB',
    'AMNB',
    'ABCB',
    'ARCB',
    'BWINB',
    'B',
    'BELFB',
    'BHLB',
    'BLKB',
    'CARB',
    'CACB',
    'CQB',
    'COLB',
    'COB',
    'CNOB',
    'CTB',
    'CEB',
    'CRD.B',
    'CUNB',
    'CUB',
    'NBCB',
    'FNB',
    'FXCB',
    'GB',
    'GRUB',
    'HIBB',
    'HOMB',
    'HVB',
    'INDB',
    'KBALB',
    'LZB',
    'EBSB',
    'MLAB',
    'NASB',
    'NAVB',
    'NBTB',
    'ONB',
    'OB',
    'OPB',
    'PACB',
    'PSTB',
    'PEB',
    'PLAB',
    'PBPB',
    'PVTB',
    'PB',
    'PRLB',
    'PSB',
    'RRGB',
    'SB',
    'SEB',
    'SLAB',
    'OKSB',
    'WLB',
    'WIBC',
    'FUBC',
    'AHC',
    'ACHC',
    'ADC',
    'AAMC',
    'AIMC',
    'AMBC',
    'AMC',
    'AMRC',
    'ANAC',
    'AGTC',
    'AMCC',
    'ARC',
    'ASC',
    'AEC',
    'ATRC',
    'ADNC',
    'BCPC',
    'BANC',
    'BMRC',
    'BDC',
    'BSTC',
    'BCC',
    'BRC',
    'BC',
    'BMTC',
    'CCC',
    'CAC',
    'CKEC',
    'CNBC',
    'CHFC',
    'CIFC',
    'CZNC',
    'CLC',
    'MYCC',
    'CMC',
    'CACC',
    'CTIC',
    'DMRC',
    'EDMC',
    'ELRC',
    'ESC',
    'ENOC',
    'EBTC',
    'EFSC',
    'EVC',
    'EAC',
    'EVTC',
    'EXAC',
    'FBRC',
    'FNHC',
    'FEIC',
    'FNLC',
    'FBNC',
    'FCBC',
    'FFBC',
    'FLIC',
    'FBC',
    'FFIC',
    'FC',
    'GNRC',
    'BGC',
    'GABC',
    'GRC',
    'GSBC',
    'HBHC',
    'HAFC',
    'HSC',
    'HBNC',
    'ZINC',
    'HMHC',
    'HWCC',
    'HURC',
    'IBKC',
    'IHC',
    'IPCC',
    'IRC',
    'IDCC',
    'IBOC',
    'IVAC',
    'IVC',
    'ISBC',
    'KFRC',
    'LANC',
    'LNDC',
    'LSCC',
    'LTC',
    'MCBC',
    'VAC',
    'MGRC',
    'MDC',
    'MSCC',
    'MC',
    'MHGC',
    'MTSC',
    'NC',
    'NNVC',
    'NBHC',
    'NGHC',
    'NHC',
    'NPBC',
    'NGVC',
    'NBBC',
    'NVEC',
    'OCFC',
    'ODC',
    'OABC',
    'ORBC',
    'PCCC',
    'PAYC',
    'PGC',
    'PMC',
    'PAHC',
    'DOC',
    'PJC',
    'PFBC',
    'PLPC',
    'PRSC',
    'QLGC',
    'QRHC',
    'RLOC',
    'ROIC',
    'RVNC',
    'RPXC',
    'RTEC',
    'SCSC',
    'SAIC',
    'SEAC',
    'SMTC',
    'SFNC',
    'SWHC',
    'SONC',
    'SPNC',
    'SPDC',
    'SPSC',
    'SSNC',
    'STFC',
    'STC',
    'SWC',
    'SNBC',
    'SXC',
    'TAYC',
    'TRC',
    'TTEC',
    'TNC',
    'TRXC',
    'TREC',
    'TSC',
    'TPC',
    'UCFC',
    'UIHC',
    'UEIC',
    'VASC',
    'VHC',
    'VITC',
    'VOLC',
    'VSEC',
    'WNC',
    'WAC',
    'WCIC',
    'WDFC',
    'WSBC',
    'WSTC',
    'WABC',
    'WMC',
    'WTFC',
    'ABMD',
    'ACAD',
    'AMED',
    'AVD',
    'AMWD',
    'BDBD',
    'BYD',
    'BWLD',
    'CALD',
    'CSCD',
    'CPHD',
    'CLFD',
    'CLD',
    'CNMD',
    'CSOD',
    'DMD',
    'DMND',
    'DIOD',
    'FWRD',
    'FRED',
    'FTD',
    'GOOD',
    'GMED',
    'GLDD',
    'GUID',
    'HTLD',
    'PODD',
    'IRWD',
    'KND',
    'KKD',
    'LGND',
    'LAD',
    'MHLD',
    'MNKD',
    'MED',
    'MIND',
    'MOD',
    'NYLD',
    'OMED',
    'OXFD',
    'PKD',
    'PWOD',
    'PHMD',
    'QUAD',
    'RLD',
    'RFMD',
    'SSD',
    'BID',
    'TXMD',
    'THLD',
    'OLED',
    'UTMD',
    'WD',
    'WAFD',
    'WBMD',
    'WWD',
    'WRLD',
    'SRCE',
    'AE',
    'HIVE',
    'ALE',
    'MTGE',
    'AMPE',
    'AMRE',
    'ANDE',
    'AXE',
    'ACRE',
    'ASTE',
    'RATE',
    'BEBE',
    'BHE',
    'BDE',
    'NILE',
    'BLUE',
    'BOBE',
    'BDGE',
    'BKE',
    'CPE',
    'CTRE',
    'CECE',
    'CAKE',
    'CHE',
    'PLCE',
    'CLNE',
    'CCNE',
    'COKE',
    'CDE',
    'CORE',
    'CUBE',
    'CONE',
    'DWRE',
    'DXPE',
    'EE',
    'EME',
    'EDE',
    'WIRE',
    'ENVE',
    'ESE',
    'XONE',
    'DAVE',
    'FOE',
    'BUSE',
    'FRME',
    'FIVE',
    'FVE',
    'FELE',
    'GALE',
    'LOPE',
    'GPRE',
    'GLRE',
    'GWRE',
    'HAE',
    'HELE',
    'ONE',
    'ICGE',
    'IGTE',
    'TILE',
    'ISLE',
    'JIVE',
    'JONE',
    'LE',
    'LEE',
    'MRGE',
    'MGEE',
    'TYPE',
    'MOVE',
    'MYE',
    'NWE',
    'OME',
    'PTIE',
    'PKE',
    'PE',
    'PDCE',
    'PIKE',
    'PFIE',
    'SALE',
    'ROSE',
    'RSE',
    'SFE',
    'SAPE',
    'SFXE',
    'LNCE',
    'CODE',
    'JOE',
    'STE',
    'BEE',
    'SYKE',
    'TPRE',
    'TIME',
    'TSRE',
    'TREE',
    'TRUE',
    'RARE',
    'UVE',
    'VNCE',
    'WAGE',
    'WRE',
    'WWE',
    'YUME',
    'AMSF',
    'APAGF',
    'AF',
    'BANF',
    'BKYF',
    'CBF',
    'CPF',
    'CCF',
    'CHEF',
    'MCF',
    'CVBF',
    'DF',
    'EBF',
    'ESBF',
    'FAF',
    'FCF',
    'FDEF',
    'THFF',
    'FOXF',
    'FF',
    'GFF',
    'GLF',
    'HTLF',
    'HF',
    'IRF',
    'JJSF',
    'VLCCF',
    'LF',
    'SBCF',
    'SIF',
    'LEAF',
    'SPF',
    'SF',
    'UMBF',
    'UNF',
    'WSBF',
    'WETF',
    'CCBG',
    'ACTG',
    'ATSG',
    'ALG',
    'AMAG',
    'AMZG',
    'AMSG',
    'ALOG',
    'APOG',
    'AMTG',
    'ABG',
    'AVG',
    'BBG',
    'BBRG',
    'BGG',
    'CCG',
    'CSG',
    'CHGG',
    'CTG',
    'CVG',
    'DFRG',
    'DXLG',
    'FANG',
    'LPG',
    'DSPG',
    'EIG',
    'ECPG',
    'ENSG',
    'ENTG',
    'FFG',
    'GLOG',
    'GFIG',
    'GSIG',
    'HNRG',
    'HRG',
    'HCSG',
    'HRTG',
    'HGG',
    'HUBG',
    'IG',
    'IRG',
    'IILG',
    'ITG',
    'KCG',
    'KEG',
    'KRG',
    'KMG',
    'KOG',
    'LG',
    'LHCG',
    'MSFG',
    'MIG',
    'MEG',
    'MTG',
    'MOFG',
    'MDXG',
    'MG',
    'MYRG',
    'NSTG',
    'NAVG',
    'NEOG',
    'NOG',
    'OFG',
    'OMG',
    'PCYG',
    'PLUG',
    'RNG',
    'ROG',
    'STNG',
    'SEMG',
    'SQBG',
    'SIMG',
    'SAMG',
    'STAG',
    'SYRG',
    'TG',
    'VTG',
    'VPFG',
    'VPG',
    'VG',
    'VRNG',
    'WCG',
    'WHG',
    'WG',
    'BH',
    'TPH',
    'ANH',
    'AHH',
    'AFH',
    'BZH',
    'BPTH',
    'BKH',
    'BPFH',
    'CSH',
    'DRH',
    'EHTH',
    'ENPH',
    'ETH',
    'EXH',
    'FCH',
    'HNH',
    'HTH',
    'ISH',
    'KBH',
    'KYTH',
    'LDRH',
    'LGIH',
    'LBMH',
    'MANH',
    'MTH',
    'CASH',
    'MOH',
    'MRH',
    'NATH',
    'NKSH',
    'NMIH',
    'OEH',
    'FRSH',
    'PKOH',
    'PHH',
    'PCH',
    'PBH',
    'RH',
    'RUTH',
    'CKH',
    'SKH',
    'SAH',
    'SPWH',
    'TMH',
    'TTPH',
    'TXRH',
    'TGH',
    'TBPH',
    'USPH',
    'UMH',
    'UBSH',
    'WASH',
    'WLH',
    'GLRI',
    'HCCI',
    'XXII',
    'AVHI',
    'AEPI',
    'AERI',
    'AMRI',
    'AOI',
    'RESI',
    'APEI',
    'ARII',
    'ARPI',
    'ASEI',
    'AFSI',
    'ANGI',
    'ARI',
    'AAOI',
    'ACI',
    'AGII',
    'AI',
    'ATNI',
    'ATRI',
    'BMI',
    'BBSI',
    'BRLI',
    'BDSI',
    'BJRI',
    'BOFI',
    'WIFI',
    'BCEI',
    'BPI',
    'CACI',
    'CSII',
    'CDI',
    'CGI',
    'HELI',
    'CCXI',
    'CCOI',
    'CVGI',
    'CTBI',
    'CPSI',
    'CNSI',
    'CRAI',
    'CUI',
    'CFI',
    'CUBI',
    'CYNI',
    'DSCI',
    'DRII',
    'DGII',
    'DGI',
    'DTSI',
    'EFII',
    'ELLI',
    'EMCI',
    'EIGI',
    'ERII',
    'EXXI',
    'FRGI',
    'FISI',
    'FMBI',
    'FMI',
    'GIII',
    'GBCI',
    'GBLI',
    'GTI',
    'GPI',
    'GIFI',
    'HASI',
    'HCI',
    'HEI',
    'HSII',
    'HI',
    'HNI',
    'HTBI',
    'HSNI',
    'ICFI',
    'ICUI',
    'IIVI',
    'INFI',
    'III',
    'IPHI',
    'IDTI',
    'ISSI',
    'I',
    'ITCI',
    'IPI',
    'ITRI',
    'ESI',
    'KAI',
    'KCLI',
    'KPTI',
    'KVHI',
    'LBAI',
    'LCI',
    'MTSI',
    'CLI',
    'MMI',
    'MBII',
    'MASI',
    'MBFI',
    'MNI',
    'MMSI',
    'MEI',
    'MKSI',
    'MINI',
    'MCRI',
    'MGI',
    'MLI',
    'NCMI',
    'NHI',
    'NWLI',
    'NCI',
    'NNI',
    'NWBI',
    'NTRI',
    'OVTI',
    'OMI',
    'PTSI',
    'PPBI',
    'PEGI',
    'PDLI',
    'PEI',
    'PFSI',
    'PSMI',
    'PGTI',
    'PLKI',
    'POWI',
    'PGI',
    'PRI',
    'PBYI',
    'QSII',
    'RDI',
    'REGI',
    'RCII',
    'REXI',
    'REI',
    'RLI',
    'RMTI',
    'RSTI',
    'RTI',
    'RUBI',
    'SQI',
    'SIGI',
    'SGI',
    'SSNI',
    'SBGI',
    'SJI',
    'SBSI',
    'SPPI',
    'SSI',
    'SXI',
    'SRI',
    'SUI',
    'SMCI',
    'SCAI',
    'TISI',
    'TTI',
    'TCBI',
    'TXI',
    'TWI',
    'TBI',
    'TTMI',
    'TUMI',
    'ULTI',
    'UFI',
    'UBSI',
    'UCBI',
    'UNFI',
    'UFPI',
    'UTI',
    'VDSI',
    'VVI',
    'VSI',
    'WTI',
    'CWEI',
    'WMGI',
    'ZIXI',
    'ALJ',
    'RLJ',
    'ANIK',
    'TBBK',
    'OZRK',
    'HAWK',
    'BBNK',
    'CPK',
    'CBK',
    'CSBK',
    'CRK',
    'CYTK',
    'DTLK',
    'TRAK',
    'DK',
    'ELNK',
    'KODK',
    'FBNK',
    'FIBK',
    'FTK',
    'FRNK',
    'GK',
    'GNMK',
    'ROCK',
    'GPK',
    'GBNK',
    'HK',
    'HTBK',
    'INWK',
    'SNAK',
    'JACK',
    'JAKK',
    'KIRK',
    'LOCK',
    'MACK',
    'MLNK',
    'NPK',
    'NLNK',
    'NICK',
    'NTK',
    'NFBK',
    'OLBK',
    'OPK',
    'OPLK',
    'OSTK',
    'PCBK',
    'PRK',
    'PATK',
    'PHIIK',
    'PNK',
    'QLIK',
    'QUIK',
    'KWK',
    'ZQK',
    'ROIAK',
    'RNWK',
    'RTK',
    'FRBK',
    'SGK',
    'SSTK',
    'SZMK',
    'TRK',
    'SQBK',
    'STCK',
    'SGBK',
    'SUBK',
    'TNK',
    'TBNK',
    'TTEK',
    'TCBK',
    'TRMK',
    'UTEK',
    'UBNK',
    'USAK',
    'WMK',
    'ESL',
    'CALL',
    'AOSL',
    'AXL',
    'AEL',
    'AUXL',
    'AXLL',
    'BNCL',
    'BRKL',
    'BURL',
    'CFNL',
    'ICEL',
    'CSFL',
    'CNL',
    'CMTL',
    'CNSL',
    'CTRL',
    'CRVL',
    'CBRL',
    'DEL',
    'DHIL',
    'HILL',
    'BAGL',
    'EGL',
    'EXL',
    'EXEL',
    'FDML',
    'FGL',
    'FINL',
    'RAIL',
    'FCEL',
    'FUL',
    'GBL',
    'GSOL',
    'GHL',
    'HALL',
    'HL',
    'HIL',
    'IPXL',
    'ISIL',
    'INTL',
    'IL',
    'ISRL',
    'KNL',
    'LORL',
    'LL',
    'LDL',
    'MXL',
    'MXWL',
    'MCRL',
    'MSL',
    'MILL',
    'LABL',
    'NATL',
    'NMBL',
    'NL',
    'NADL',
    'OMCL',
    'PRXL',
    'POL',
    'POOL',
    'POWL',
    'QDEL',
    'ROLL',
    'RIGL',
    'FUEL',
    'RYL',
    'SCHL',
    'SFL',
    'SCVL',
    'SKUL',
    'STML',
    'SCL',
    'STL',
    'STRL',
    'TAL',
    'TYL',
    'UIL',
    'UTL',
    'UACL',
    'ECOL',
    'VTL',
    'WAL',
    'WGL',
    'NWHM',
    'ABM',
    'ATNM',
    'ACXM',
    'AIRM',
    'ALIM',
    'AFAM',
    'SAM',
    'BFAM',
    'CALM',
    'CBM',
    'CATM',
    'CRCM',
    'CAVM',
    'ECOM',
    'CIDM',
    'COLM',
    'DXM',
    'DXCM',
    'DCOM',
    'DORM',
    'BOOM',
    'ETM',
    'EPAM',
    'EPZM',
    'EPM',
    'EXAM',
    'FWM',
    'FARM',
    'AGM',
    'FLDM',
    'FORM',
    'TFM',
    'FRM',
    'FXCM',
    'THRM',
    'GSM',
    'GHM',
    'HCOM',
    'HSTM',
    'INSM',
    'IPCM',
    'IRDM',
    'JCOM',
    'KEM',
    'LTM',
    'LOGM',
    'MFRM',
    'MBWM',
    'MM',
    'MGAM',
    'NM',
    'NEWM',
    'NRIM',
    'NXTM',
    'ORM',
    'OXM',
    'PPHM',
    'PSEM',
    'PGEM',
    'PNM',
    'PLCM',
    'PRIM',
    'QTM',
    'RM',
    'SALM',
    'SAFM',
    'SANM',
    'SHLM',
    'SWM',
    'SEM',
    'SQNM',
    'SZYM',
    'SGM',
    'TAM',
    'TNDM',
    'TPLM',
    'USLM',
    'UAM',
    'VSTM',
    'VMEM',
    'XRM',
    'XOOM',
    'FLXN',
    'IIIN',
    'RDN',
    'ATEN',
    'AAON',
    'XLRN',
    'ACHN',
    'ADTN',
    'AEGN',
    'AGEN',
    'AIN',
    'ANN',
    'ARUN',
    'AZPN',
    'BFIN',
    'BBCN',
    'BECN',
    'BLMN',
    'BNCN',
    'CMN',
    'CFFN',
    'CHFN',
    'CHDN',
    'CIEN',
    'CTRN',
    'CONN',
    'COWN',
    'CCRN',
    'CRWN',
    'DAN',
    'DWSN',
    'DNDN',
    'DENN',
    'DIN',
    'DXYN',
    'DYN',
    'EOPN',
    'EGBN',
    'RDEN',
    'FN',
    'LION',
    'FNGN',
    'FFIN',
    'FIVN',
    'FRAN',
    'FCN',
    'FXEN',
    'GFN',
    'GERN',
    'GTN',
    'HWKN',
    'HAYN',
    'HMN',
    'HURN',
    'ICON',
    'IMGN',
    'INFN',
    'INGN',
    'ININ',
    'ITMN',
    'XON',
    'INVN',
    'JRN',
    'LRN',
    'KAMN',
    'KIN',
    'KOPN',
    'LKFN',
    'LAYN',
    'LNN',
    'LPSN',
    'MGLN',
    'MN',
    'MRIN',
    'MRLN',
    'MRTN',
    'MTRN',
    'MODN',
    'NWN',
    'OLN',
    'OMN',
    'ASGN',
    'OPEN',
    'ORN',
    'PSUN',
    'PENN',
    'POZN',
    'PZN',
    'RAVN',
    'RGEN',
    'REN',
    'RECN',
    'RXN',
    'RBCN',
    'SN',
    'SCHN',
    'SCLN',
    'SHEN',
    'SPTN',
    'INN',
    'SUPN',
    'TEN',
    'TITN',
    'TOWN',
    'TWIN',
    'MTN',
    'WERN',
    'YDKN',
    'ZEN',
    'ACCO',
    'AKAO',
    'ABCO',
    'ARO',
    'AGIO',
    'ALCO',
    'AEO',
    'ATLO',
    'ANGO',
    'ATRO',
    'BCO',
    'CMO',
    'CECO',
    'CRZO',
    'CATO',
    'CVCO',
    'CVO',
    'CHCO',
    'CVEO',
    'CNO',
    'CMCO',
    'CTO',
    'CYNO',
    'DJCO',
    'DEPO',
    'DCO',
    'ECHO',
    'ESIO',
    'EBIO',
    'NPO',
    'XCO',
    'EXPO',
    'FICO',
    'FARO',
    'FHCO',
    'FPO',
    'FRO',
    'FIO',
    'GCO',
    'GEO',
    'GIMO',
    'GOGO',
    'GORO',
    'HALO',
    'HERO',
    'INO',
    'IO',
    'KTWO',
    'KRO',
    'LHO',
    'MHO',
    'SHOO',
    'HZO',
    'MKTO',
    'MSO',
    'MDCO',
    'MDSO',
    'VIVO',
    'MPO',
    'MNRO',
    'NANO',
    'NWBO',
    'ONVO',
    'PCO',
    'PEBO',
    'PICO',
    'PPO',
    'PRO',
    'QTWO',
    'RGDO',
    'RSO',
    'SGMO',
    'SHLO',
    'SHO',
    'TTWO',
    'TNGO',
    'TRNO',
    'TSRO',
    'TESO',
    'TIVO',
    'TZOO',
    'USMO',
    'VECO',
    'WSO',
    'WGO',
    'XOXO',
    'XPO',
    'AFOP',
    'AP',
    'ANIP',
    'AHP',
    'BGCP',
    'CCMP',
    'CAP',
    'CAMP',
    'CEMP',
    'CKP',
    'CHSP',
    'COUP',
    'EGP',
    'FRP',
    'FBP',
    'FSP',
    'FDP',
    'GCAP',
    'GDP',
    'HEOP',
    'HZNP',
    'HPP',
    'IBCP',
    'IOSP',
    'NSP',
    'IBP',
    'INAP',
    'KOP',
    'LXP',
    'MDP',
    'MCP',
    'NP',
    'NEWP',
    'NPSP',
    'ODP',
    'OHRP',
    'OLP',
    'PNFP',
    'PTP',
    'RPTP',
    'RCAP',
    'RP',
    'RLYP',
    'RFP',
    'RSPP',
    'RHP',
    'SSP',
    'SP',
    'STMP',
    'SMP',
    'SCMP',
    'SUP',
    'SGYP',
    'TMP',
    'UCP',
    'USAP',
    'UVSP',
    'UPIP',
    'WPP',
    'ZEP',
    'ZIOP',
    'AIQ',
    'CACQ',
    'EPIQ',
    'LQ',
    'PQ',
    'SUSQ',
    'UMPQ',
    'ZLTQ',
    'MLR',
    'AIR',
    'AKR',
    'ACOR',
    'AEGR',
    'AYR',
    'ALDR',
    'ANR',
    'AMBR',
    'AWR',
    'AMKR',
    'ARR',
    'ARWR',
    'AVNR',
    'BANR',
    'BCOR',
    'BRDR',
    'BLDR',
    'CZR',
    'CRR',
    'CDR',
    'CBR',
    'CIR',
    'COHR',
    'CPWR',
    'SCOR',
    'CNVR',
    'CORR',
    'COR',
    'CYTR',
    'DAR',
    'EDR',
    'ESGR',
    'ENTR',
    'EPR',
    'ESPR',
    'EVER',
    'EVR',
    'EXAR',
    'EXPR',
    'EXTR',
    'FNSR',
    'FR',
    'FMER',
    'FOR',
    'FORR',
    'FSTR',
    'HMPR',
    'HGR',
    'HNR',
    'HR',
    'HTWR',
    'MLHR',
    'IMMR',
    'IPAR',
    'IVR',
    'STAR',
    'KMPR',
    'LADR',
    'LDR',
    'LMNR',
    'MHR',
    'DOOR',
    'MTDR',
    'MVNR',
    'MDR',
    'MTOR',
    'METR',
    'MSTR',
    'MNR',
    'MPWR',
    'NATR',
    'NKTR',
    'NTGR',
    'CUR',
    'NSR',
    'NJR',
    'NR',
    'NNBR',
    'NOR',
    'NUTR',
    'OCLR',
    'OMER',
    'OPWR',
    'OSUR',
    'OSIR',
    'OTTR',
    'OUTR',
    'PRKR',
    'PATR',
    'PIR',
    'POR',
    'POWR',
    'KWR',
    'REXR',
    'SASR',
    'SIR',
    'SHOR',
    'BSRR',
    'SPAR',
    'STNR',
    'RGR',
    'SNCR',
    'TLMR',
    'TASR',
    'TXTR',
    'THR',
    'THOR',
    'TR',
    'TOWR',
    'TRMR',
    'HEAR',
    'USCR',
    'ULTR',
    'USTR',
    'VGR',
    'VSAR',
    'VTNR',
    'VICR',
    'WAIR',
    'WMAR',
    'WNR',
    'WSR',
    'FUR',
    'WOR',
    'XNCR',
    'SWS',
    'FLWS',
    'AXAS',
    'ADMS',
    'ADUS',
    'ADES',
    'AEIS',
    'ADVS',
    'AGYS',
    'AKS',
    'ASPS',
    'AHS',
    'AMRS',
    'ATRS',
    'ACLS',
    'BGS',
    'BXS',
    'BKS',
    'BAS',
    'BIOS',
    'BRS',
    'BRKS',
    'BWS',
    'CJES',
    'CLMS',
    'CASS',
    'CAS',
    'CERS',
    'GTLS',
    'CRUS',
    'CLVS',
    'CNS',
    'CTWS',
    'CPSS',
    'CPS',
    'CRRS',
    'COVS',
    'CSGS',
    'CSS',
    'CTS',
    'CMLS',
    'CYS',
    'EBS',
    'ENS',
    'PLUS',
    'EROS',
    'EXAS',
    'EXLS',
    'FCS',
    'FSS',
    'FCFS',
    'FLXS',
    'FSYS',
    'GEOS',
    'BRSS',
    'GES',
    'HEES',
    'HHS',
    'HTS',
    'HLS',
    'HLSS',
    'HOS',
    'SAAS',
    'IPHS',
    'ISIS',
    'IXYS',
    'JNS',
    'KS',
    'KTOS',
    'LTS',
    'LFUS',
    'LYTS',
    'LMOS',
    'MCS',
    'MMS',
    'MEAS',
    'MDAS',
    'NGS',
    'NLS',
    'NCS',
    'NBS',
    'NEWS',
    'NDLS',
    'NTLS',
    'NES',
    'ZEUS',
    'OGS',
    'TIS',
    'OSIS',
    'OVAS',
    'PDFS',
    'PFIS',
    'PETS',
    'PES',
    'PLXS',
    'PMCS',
    'PRGS',
    'PFS',
    'QTS',
    'QLYS',
    'RAS',
    'RMBS',
    'RGS',
    'RGLS',
    'REIS',
    'RRTS',
    'RKUS',
    'JBSS',
    'SPNS',
    'BFS',
    'SGMS',
    'SHOS',
    'SCSS',
    'SFBS',
    'SONS',
    'SSS',
    'SCS',
    'SNSS',
    'SUSS',
    'TSYS',
    'TESS',
    'TCS',
    'TTS',
    'TLYS',
    'THS',
    'TRS',
    'GTS',
    'TUES',
    'UNIS',
    'UIS',
    'UFCS',
    'UNS',
    'VRNS',
    'VIAS',
    'VRTS',
    'VTSS',
    'VVUS',
    'WRES',
    'WTS',
    'WBS',
    'WEYS',
    'WSFS',
    'ZOES',
    'ACAT',
    'EGHT',
    'ACET',
    'BIRT',
    'MITT',
    'ALGT',
    'HCT',
    'AAT',
    'CRMT',
    'AIT',
    'AHT',
    'AT',
    'BALT',
    'BNFT',
    'BEAT',
    'BLT',
    'BONT',
    'BSFT',
    'CWT',
    'CPST',
    'TAST',
    'CWST',
    'CSLT',
    'CTT',
    'CLDT',
    'CHMT',
    'CLCT',
    'CVLT',
    'CTCT',
    'CORT',
    'CVT',
    'DAKT',
    'DCT',
    'DEST',
    'DHT',
    'DFT',
    'EGLT',
    'ESRT',
    'ECYT',
    'ESNT',
    'EEFT',
    'SCBT',
    'FST',
    'FET',
    'GALT',
    'GST',
    'GLT',
    'GRT',
    'ENT',
    'GSAT',
    'GPT',
    'GDOT',
    'GTAT',
    'GTT',
    'HCKT',
    'HLIT',
    'HVT',
    'HT',
    'HITT',
    'HMST',
    'IDT',
    'NSIT',
    'IART',
    'IQNT',
    'IRET',
    'IRBT',
    'JBT',
    'JOUT',
    'LCUT',
    'LQDT',
    'LXFT',
    'MANT',
    'MENT',
    'MBVT',
    'NTCT',
    'NYMT',
    'NYRT',
    'NYT',
    'NXST',
    'NCFT',
    'NAT',
    'OPHT',
    'ORIT',
    'PLMT',
    'PMT',
    'PRFT',
    'PFMT',
    'PLT',
    'PLXT',
    'POST',
    'PSMT',
    'PKT',
    'PFPT',
    'PTCT',
    'QNST',
    'RDNT',
    'RPT',
    'RCPT',
    'RWT',
    'RNST',
    'RENT',
    'RJET',
    'RVLT',
    'RNET',
    'RST',
    'RT',
    'SAFT',
    'SGNT',
    'SRPT',
    'SALT',
    'SXT',
    'SMRT',
    'SYBT',
    'STRT',
    'SWFT',
    'SYNT',
    'SYUT',
    'TTGT',
    'TIPT',
    'TAT',
    'TNET',
    'TQNT',
    'TRST',
    'UBNT',
    'UFPT',
    'UCTT',
    'UHT',
    'VCYT',
    'VRNT',
    'VSAT',
    'VPRT',
    'WLT',
    'WST',
    'XNPT',
    'TWOU',
    'ATU',
    'BKMU',
    'CSU',
    'COHU',
    'CBU',
    'EQU',
    'GLUU',
    'IMMU',
    'JBLU',
    'KALU',
    'LXU',
    'MBUU',
    'SVU',
    'VRTU',
    'AVAV',
    'ANV',
    'AVIV',
    'BV',
    'BGFV',
    'BCOV',
    'CSV',
    'CETV',
    'DRIV',
    'ENV',
    'GTIV',
    'GOV',
    'HMTV',
    'HOV',
    'IMPV',
    'MOV',
    'MWIV',
    'EGOV',
    'REV',
    'SREV',
    'TNAV',
    'TRIV',
    'UVV',
    'VVTV',
    'KEYW',
    'SKYW',
    'ACW',
    'ACIW',
    'ARCW',
    'AROW',
    'AAWW',
    'BBW',
    'CVGW',
    'CLW',
    'BREW',
    'CW',
    'PLOW',
    'DW',
    'EZPW',
    'FFNW',
    'GLPW',
    'HW',
    'HIW',
    'SNOW',
    'JGW',
    'KW',
    'LLNW',
    'MATW',
    'MPW',
    'MW',
    'MWW',
    'OWW',
    'SJW',
    'UTIW',
    'WWWW',
    'WTW',
    'WWW',
    'YORW',
    'YRCW',
    'ALX',
    'DRTX',
    'PNX',
    'ABAX',
    'AXDX',
    'ACRX',
    'ARX',
    'AFFX',
    'AKRX',
    'ALEX',
    'AREX',
    'PETX',
    'AGX',
    'ASPX',
    'BLX',
    'BBX',
    'BCRX',
    'BTX',
    'BBOX',
    'CALX',
    'CLDX',
    'CENX',
    'CMRX',
    'CHDX',
    'CGNX',
    'FIX',
    'CBPX',
    'CROX',
    'CYBX',
    'CYTX',
    'DLX',
    'DHX',
    'DYAX',
    'DVAX',
    'DX',
    'EBIX',
    'EOX',
    'ELX',
    'ELGX',
    'FPRX',
    'FLTX',
    'FURX',
    'GHDX',
    'GPX',
    'GBX',
    'HLX',
    'HRTX',
    'HPTX',
    'IDIX',
    'IBTX',
    'BLOX',
    'TAX',
    'KERX',
    'KNX',
    'KFX',
    'LXRX',
    'LIOX',
    'LPX',
    'LMNX',
    'MGNX',
    'MNTX',
    'MCHX',
    'MPX',
    'MKTX',
    'MTRX',
    'MATX',
    'MSEX',
    'MTX',
    'MRTX',
    'MFLX',
    'NBIX',
    'NWPX',
    'NVAX',
    'NMRX',
    'OFLX',
    'OREX',
    'OFIX',
    'PEIX',
    'PCRX',
    'PHX',
    'PTX',
    'PSIX',
    'PRGX',
    'PGNX',
    'NX',
    'RMAX',
    'RPRX',
    'RTRX',
    'REX',
    'REXX',
    'RTIX',
    'SNMX',
    'SKX',
    'SWX',
    'SRDX',
    'SNX',
    'SYX',
    'TGTX',
    'THRX',
    'TRNX',
    'TREX',
    'TROX',
    'VOXX',
    'WEX',
    'WIX',
    'ZGNX',
    'CRAY',
    'ARAY',
    'BNNY',
    'ARRY',
    'BERY',
    'EPAY',
    'ELY',
    'CASY',
    'CATY',
    'CBEY',
    'CHUY',
    'CLNY',
    'CRY',
    'CY',
    'DY',
    'PERY',
    'NYNY',
    'EQY',
    'EVDY',
    'GY',
    'GTY',
    'HWAY',
    'HPY',
    'HMSY',
    'HY',
    'INSY',
    'KRNY',
    'KFY',
    'LBY',
    'LWAY',
    'MRCY',
    'BABY',
    'NWY',
    'ONTY',
    'OPY',
    'PTRY',
    'PKY',
    'PCTY',
    'PBY',
    'PNY',
    'QLTY',
    'RALY',
    'REMY',
    'RNDY',
    'SFLY',
    'SBY',
    'SWAY',
    'SGY',
    'SNHY',
    'SFY',
    'TDY',
    'EGY',
    'VLY',
    'ZUMZ',
    'AZZ',
    'DFZ',
    'BPZ',
    'CBZ',
    'COBZ',
    'CUZ',
    'ENZ',
    'FBIZ',
    'MTZ',
    'FIZZ',
    'NRZ',
    'STBZ'
];

for(var i = 0; i < RUT.length; i++){
    var s = RUT[i],
    now = moment(),
    d = now.month()<10?"0"+now.month():now.month(),
    ee = now.date(),
    f = now.year(),
    then = moment().subtract(10,'weeks'),
    a = then.month()<10?"0"+then.month():then.month(),
    bb = then.date(),
    c = then.year(),
    url = "http://real-chart.finance.yahoo.com/table.csv?s="+s+"&a="+a+"&b="+bb+"&c="+c+"&d="+d+"&e="+ee+"&f="+f+"&g=d&ignore=.csv";
    request(url,parseCSV);
};

function ema(prices,days){
    var num = 0,
    den = 0,
    alpha = (2/(days+1));
    for(var i = 0; i < days; i++){
        var price = prices[i];
        num += Math.pow((1-alpha),i)*price;
        den += Math.pow((1-alpha),i);
    };
    return num/den;
};

function parseCSV(e,r,b){
    if(r){
        var stock = r.request.uri.query.substr(2,r.request.uri.query.indexOf('&')-2);
        if(b.substr(0,1)=="<"){
            console.log("WARN: No stock found for "+stock)
            console.log("")
        };
        var data = [],
        raw = b.split("\n");
        raw.pop();
        raw.shift();
        for(var row in raw){
            var close = parseFloat(raw[row].split(",")[4]);
            data.push(close);
        };
            var macd = ema(data,12) - ema(data,26),
            macds = [];
            data.shift();
            data.shift();
            for(var i = 0; i < 7; i++){
                var tempMacd = ema(data,12) - ema(data,26);
                macds.push(tempMacd)
                data.shift();
            };
            trigger = ema(macds,macds.length);
        var sum = 0,
        prices = data.reverse(),
        last = prices.shift();
        for(var price in prices){
            var up = prices[price]>last;
            if(up==true){
                sum+=1;
            };
            last = prices[price];
        };
        var rsi = sum/(raw.length-1);
        var data2 = [],
        raw2 = b.split("\n");
        raw2.pop();
        raw2.shift();
        raw2.shift();
        for(var row in raw2){
            var close = parseFloat(raw2[row].split(",")[4]);
            data2.push(close);
        };
        var macd2 = ema(data2,12) - ema(data2,26),
            macds2 = [];
            data2.shift();
            data2.shift();
            for(var i = 0; i < 7; i++){
                var tempMacd2 = ema(data2,12) - ema(data2,26);
                macds2.push(tempMacd2)
                data2.shift();
            };
        trigger2 = ema(macds2,macds2.length);
        var data3 = [],
        raw3 = b.split("\n");
        raw3.pop();
        raw3.shift();
        raw3.shift();
        raw3.shift();
        for(var row in raw3){
            var close = parseFloat(raw3[row].split(",")[4]);
            data3.push(close);
        };
        var macd3 = ema(data3,12) - ema(data3,26),
            macds3 = [];
            data3.shift();
            data3.shift();
            for(var i = 0; i < 7; i++){
                var tempMacd3 = ema(data3,12) - ema(data3,26);
                macds3.push(tempMacd3)
                data3.shift();
            };
        trigger3 = ema(macds3,macds3.length);
        var data4 = [],
        raw4 = b.split("\n");
        raw4.pop();
        raw4.shift();
        raw4.shift();
        raw4.shift();
        for(var row in raw4){
            var close = parseFloat(raw4[row].split(",")[4]);
            data4.push(close);
        };
        var macd4 = ema(data4,12) - ema(data4,26),
            macds4 = [];
            data4.shift();
            data4.shift();
            for(var i = 0; i < 7; i++){
                var tempMacd4 = ema(data4,12) - ema(data4,26);
                macds4.push(tempMacd4)
                data4.shift();
            };
        trigger4 = ema(macds4,macds4.length);
        if(macd>trigger&&macd2<trigger2){
            console.log(stock.green+" experienced a bullish cross from yesterday to today.".green)
            if(rsi>=0.7){
                console.log("It's also considered overbought by the RSI.".red)
            };
            if(rsi<=0.3){
                console.log("It's also considered oversold by the RSI.".green)
            };
            console.log("")
        };
        if(macd<trigger&&macd2>trigger2){
            console.log(stock.red+" experienced a bearish cross from yesterday to today.".red)
            if(rsi>=0.7){
                console.log("It's also considered overbought by the RSI.".red)
            };
            if(rsi<=0.3){
                console.log("It's also considered oversold by the RSI.".green)
            };
            console.log("")
        };
        if(macd>trigger&&macd2>trigger2&&macd3<trigger3){
            console.log(stock+" experienced a bullish cross two days ago and maintained that trend today.")
            if(rsi>=0.7){
                console.log("It's also considered overbought by the RSI.".red)
            };
            if(rsi<=0.3){
                console.log("It's also considered oversold by the RSI.".green)
            };
            console.log("")
        };
        if(macd<trigger&&macd2<trigger2&&macd3>trigger3){
            console.log(stock+" experienced a bearish cross two days ago and maintained that trend today.")
            if(rsi>=0.7){
                console.log("It's also considered overbought by the RSI.".red)
            };
            if(rsi<=0.3){
                console.log("It's also considered oversold by the RSI.".green)
            };
            console.log("")
        };
        if(macd>trigger&&macd2>trigger2&&macd3>trigger3&&macd4<trigger4){
            console.log(stock+" experienced a bullish cross three days ago and maintained that trend for the past two days.")
            if(rsi>=0.7){
                console.log("It's also considered overbought by the RSI.".red)
            };
            if(rsi<=0.3){
                console.log("It's also considered oversold by the RSI.".green)
            };
            console.log("")
        };
        if(macd<trigger&&macd2<trigger2&&macd3<trigger3&&macd4>trigger4){
            console.log(stock+" experienced a bearish cross three days ago and maintained that trend for the past two days.")
            if(rsi>=0.7){
                console.log("It's also considered overbought by the RSI.".red)
            };
            if(rsi<=0.3){
                console.log("It's also considered oversold by the RSI.".green)
            };
            console.log("")
        };
        if(macd>trigger&&macd2>trigger2&&macd3>trigger3&&macd4>trigger4){
            console.log(stock+" has experienced a protracted uptrend for the past four days.")
            if(rsi>=0.7){
                console.log("It's also considered overbought by the RSI.".red)
            };
            if(rsi<=0.3){
                console.log("It's also considered oversold by the RSI.".green)
            };
            console.log("")
        };
        if(macd<trigger&&macd2<trigger2&&macd3<trigger3&&macd4<trigger4){
            console.log(stock+" has experienced a protracted downtrend for the past four days.")
            if(rsi>=0.7){
                console.log("It's also considered overbought by the RSI.".red)
            };
            if(rsi<=0.3){
                console.log("It's also considered oversold by the RSI.".green)
            };
            console.log("")
        };
        if(macd<trigger&&macd2>trigger2&&macd3<trigger3&&macd4>trigger4){
            console.log(stock.yellow+" is extremely volatile!".yellow)
            if(rsi>=0.7){
                console.log("It's also considered overbought by the RSI.".red)
            };
            if(rsi<=0.3){
                console.log("It's also considered oversold by the RSI.".green)
            };
            console.log("")
        };
        if(macd>trigger&&macd2<trigger2&&macd3>trigger3&&macd4<trigger4){
            console.log(stock.yellow+" is extremely volatile!".yellow)
            if(rsi>=0.7){
                console.log("It's also considered overbought by the RSI.".red)
            };
            if(rsi<=0.3){
                console.log("It's also considered oversold by the RSI.".green)
            };
            console.log("")
        };
    }else{console.log("Something went wrong. No request found.");console.log("")};
};