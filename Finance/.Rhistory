#install.packages("openxlsx")
library(openxlsx)
#Write####
setwd("C:/Users/alexm/Documents/Rwork")
for(i in 8:9){
size <- 1*(10^i)
df <- data.frame(rnorm(size),rnorm(size),rnorm(size),rnorm(size),rnorm(size),rnorm(size),rnorm(size),rnorm(size),rnorm(size),rnorm(size))
write.csv(df,paste0("df",i,".csv"))
#write.xlsx(df,paste0("df",i,".xlsx"))
};
df <- read.csv("df8.csv")
#install.packages("ggplot2")
# Visualizing Distributions
windows <- TRUE
if(windows){pathpre<-"C:"}else{pathpre<-"~"}
wd <- paste0(pathpre,"/git/alexm-util/Finance")
setwd(wd)
df <- read.csv("aapl.csv")
fit <- lm(prob ~ call+strike+(call*strike), data=df)
print(summary(fit))
downsub <- subset(df,state=="down")
plot(downsub$prob,downsub$strike)
plot(downsub$strike,downsub$prob)
ggplot(downsub,aes(x=strike,y=prob)) + geom_bin2d()
require(ggplot2)
ggplot(downsub,aes(x=strike,y=prob)) + geom_bin2d()
