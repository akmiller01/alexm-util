<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8' />
    <title>P20 Zoom Map</title>
    <meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />
    <script src='https://api.tiles.mapbox.com/mapbox-gl-js/v0.28.0/mapbox-gl.js'></script>
    <link href='https://api.tiles.mapbox.com/mapbox-gl-js/v0.28.0/mapbox-gl.css' rel='stylesheet' />
    <style>
        body { margin:0; padding:0; }
        #map { position:absolute; top:0; bottom:0; width:100%; }
        .legend {
            background-color: rgb(202,210,211);
            border-radius: 3px;
            bottom: 10px;
            /*box-shadow: 0 1px 2px rgba(0,0,0,0.10);*/
            font: 12px/20px 'Helvetica Neue', Arial, Helvetica, sans-serif;
            padding: 10px;
            position: absolute;
            left: 10px;
            z-index: 1;
        }
        
        .legend h4 {
            margin: 0 0 10px;
        }
        
        .legend div span {
            display: inline-block;
            width:100%;
            text-align:center;
            border: none;
        }
        
        .narrative{
            background-color: rgb(202,210,211);
            border-radius: 3px;
            bottom: 275px;
            /*box-shadow: 0 1px 2px rgba(0,0,0,0.10);*/
            font: 12px/20px 'Helvetica Neue', Arial, Helvetica, sans-serif;
            padding: 10px;
            position: absolute;
            left: 10px;
            z-index: 1;
            width:215px;
        }
        .narrative h4 {
            margin: 0 0 10px;
        }
        .narrative div span {
            display: inline-block;
            border: none;
        }
        
        .narrative button {
            margin-bottom:2px;
        }
    </style>
</head>
<body>

<div id="map"></div>

<div class='narrative'>
    <h4>Distribution of the global poorest 20%</h4>
    <span>Distribution of the poorest 20% of people globally.</span>
    <button onclick="map.flyTo({zoom:2,bearing:0})">Zoom to international level</button>
    <button onclick="map.flyTo({zoom:4,bearing:0})">Zoom to subnational level</button>
    <button onclick="map.flyTo({zoom:5,bearing:0})">Zoom to survey level</button>
</div>
<div class='legend'>
    <h4>Percent of population in the P20</h4>
    <div><span style='background-color: rgb(186,12,47)'>90 - 100%</span></div>
    <div><span style='background-color: rgb(200,61,89)'>80 - 90%</span></div>
    <div><span style='background-color: rgb(214,109,130)'>70 - 80%</span></div>
    <div><span style='background-color: rgb(227,158,172)'>60 - 70%</span></div>
    <div><span style='background-color: rgb(247,206,213)'>50 - 60%</span></div>
    <div><span style='background-color: rgb(204,234,244)'>40 - 50%</span></div>
    <div><span style='background-color: rgb(153,213,233)'>30 - 40%</span></div>
    <div><span style='background-color: rgb(102,191,222)'>20 - 30%</span></div>
    <div><span style='background-color: rgb(51,170,211)'>10 - 20%</span></div>
    <div><span style='background-color: rgb(0,149,200)'>0 - 10%</span></div>
    <div><span style='background-color: rgb(246,246,244);box-shadow: 0 0 0 1px rgb(156,156,156) inset;'>No data</span></div>
</div>

<script>
mapboxgl.accessToken = 'pk.eyJ1IjoiYWttaWxsZXIwMSIsImEiOiJjaXJmMTExYXcwMDUyZ2VuZXVudGs2NXN6In0.UCGi9Cx5COTKxzSiDbusCg';
var map = new mapboxgl.Map({
    container: 'map',
    style: 'mapbox://styles/akmiller01/ciw51u7nk000l2jp62audponv',
    zoom: 2,
    center: [25, -0.5],
    attributionControl: true
});

var nav = new mapboxgl.NavigationControl();
map.addControl(nav, 'top-right');

</script>

</body>
</html>
