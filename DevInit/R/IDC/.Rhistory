remittances <- subset(remittances,value>0)
remittances <- merge(remittances
,depth
,by=c("country.id")
,all.x=TRUE)
remittances <- transform(remittances,color=treeMapRamp(depth))
treemap(oda
,index="country.id"
,vSize="value"
,vColor="color"
,type="color"
,title="ODA 2013"
#,fontcolor.labels=rgb(0,0,0,0)
,lowerbound.cex.labels=1
)
View(oda)
treemap(oda
,index="name.y"
,vSize="value"
,vColor="color"
,type="color"
,title="ODA 2013"
#,fontcolor.labels=rgb(0,0,0,0)
,lowerbound.cex.labels=1
)
treemap(oda
,index="name.y"
,vSize="value"
,vColor="color"
,type="color"
,title="ODA 2013"
#,fontcolor.labels=rgb(0,0,0,0)
,lowerbound.cex.labels=1
,inflate.labels=TRUE
)
View(entities)
entities$name[44] <- "Cote d'Ivoire"
data <- merge(
data
,entities
,by.x="country.id"
,by.y="id"
)
depth <- subset(data,flow=="depth")
names(depth)[3] <- "depth"
oda <- subset(data,flow=="oda")
oda <- subset(oda,value>0)
oda <- merge(oda
,depth
,by=c("country.id")
,all.x=TRUE)
oda <- transform(oda,color=treeMapRamp(depth))
fdi <- subset(data,flow=="fdi")
fdi <- subset(fdi,value>0)
fdi <- merge(fdi
,depth
,by=c("country.id")
,all.x=TRUE)
fdi <- transform(fdi,color=treeMapRamp(depth))
longdebt <- subset(data,flow=="longdebt")
longdebt <- subset(longdebt,value>0)
longdebt <- merge(longdebt
,depth
,by=c("country.id")
,all.x=TRUE)
longdebt <- transform(longdebt,color=treeMapRamp(depth))
remittances <- subset(data,flow=="remittances")
remittances <- subset(remittances,value>0)
remittances <- merge(remittances
,depth
,by=c("country.id")
,all.x=TRUE)
remittances <- transform(remittances,color=treeMapRamp(depth))
treemap(oda
,index="name.y"
,vSize="value"
,vColor="color"
,type="color"
,title="ODA 2013"
#,fontcolor.labels=rgb(0,0,0,0)
,lowerbound.cex.labels=1
,inflate.labels=TRUE
)
View(entities)
entities <- read.csv("C:/git/digital-platform/reference/entity.csv",na.strings="",as.is=TRUE)
entities$name[44] <- "Cote d'Ivoire"
View(entities)
data <- merge(
data
,entities
,by.x="country.id"
,by.y="id"
)
View(data)
data <- read.csv("treemaps.csv",na.strings="")
data <- data[,1:3]
entities <- read.csv("C:/git/digital-platform/reference/entity.csv",na.strings="",as.is=TRUE)
entities$name[44] <- "Cote d'Ivoire"
data <- merge(
data
,entities
,by.x="country.id"
,by.y="id"
)
depth <- subset(data,flow=="depth")
names(depth)[3] <- "depth"
oda <- subset(data,flow=="oda")
oda <- subset(oda,value>0)
oda <- merge(oda
,depth
,by=c("country.id")
,all.x=TRUE)
oda <- transform(oda,color=treeMapRamp(depth))
fdi <- subset(data,flow=="fdi")
fdi <- subset(fdi,value>0)
fdi <- merge(fdi
,depth
,by=c("country.id")
,all.x=TRUE)
fdi <- transform(fdi,color=treeMapRamp(depth))
longdebt <- subset(data,flow=="longdebt")
longdebt <- subset(longdebt,value>0)
longdebt <- merge(longdebt
,depth
,by=c("country.id")
,all.x=TRUE)
longdebt <- transform(longdebt,color=treeMapRamp(depth))
remittances <- subset(data,flow=="remittances")
remittances <- subset(remittances,value>0)
remittances <- merge(remittances
,depth
,by=c("country.id")
,all.x=TRUE)
remittances <- transform(remittances,color=treeMapRamp(depth))
treemap(oda
,index="name.y"
,vSize="value"
,vColor="color"
,type="color"
,title="ODA 2013"
#,fontcolor.labels=rgb(0,0,0,0)
,lowerbound.cex.labels=1
,inflate.labels=TRUE
)
treemap(oda
,index="name.y"
,vSize="value"
,vColor="color"
,type="color"
#,fontcolor.labels=rgb(0,0,0,0)
,lowerbound.cex.labels=1
,inflate.labels=TRUE
)
treemap(oda
,index="name.y"
,vSize="value"
,vColor="color"
,type="color"
,title=""
#,fontcolor.labels=rgb(0,0,0,0)
,lowerbound.cex.labels=1
,inflate.labels=TRUE
)
treemap(oda
,index="name.y"
,vSize="value"
,vColor="color"
,type="color"
,title=""
#,fontcolor.labels=rgb(0,0,0,0)
,lowerbound.cex.labels=1
)
treemap(oda
,index="name.y"
,vSize="value"
,vColor="color"
,type="color"
,title=""
#,fontcolor.labels=rgb(0,0,0,0)
,lowerbound.cex.labels=0
)
treemap(oda
,index="name.y"
,vSize="value"
,vColor="color"
,type="color"
,title=""
#,fontcolor.labels=rgb(0,0,0,0)
,lowerbound.cex.labels=1
,inflate.labels=TRUE
)
treemap(oda
,index="name.y"
,vSize="value"
,vColor="color"
,type="color"
,title=""
#,fontcolor.labels=rgb(0,0,0,0)
,lowerbound.cex.labels=1
,fontsize.labels=10
)
treemap(oda
,index="name.y"
,vSize="value"
,vColor="color"
,type="color"
,title=""
#,fontcolor.labels=rgb(0,0,0,0)
,lowerbound.cex.labels=1
,fontsize.labels=30
)
treemap(fdi
,index="name.y"
,vSize="value"
,vColor="color"
,type="color"
,title=""
#,fontcolor.labels=rgb(0,0,0,0)
,lowerbound.cex.labels=1
,fontsize.labels=30
)
treemap(remittances
,index="name.y"
,vSize="value"
,vColor="color"
,type="color"
,title=""
#,fontcolor.labels=rgb(0,0,0,0)
,lowerbound.cex.labels=1
,inflate.labels=TRUE
)
treemap(remittances
,index="name.y"
,vSize="value"
,vColor="color"
,type="color"
,title=""
#,fontcolor.labels=rgb(0,0,0,0)
,lowerbound.cex.labels=1
,fontsize.labels=30
)
treemap(oda
,index="name.y"
,vSize="value"
,vColor="color"
,type="color"
,title=""
#,fontcolor.labels=rgb(0,0,0,0)
,lowerbound.cex.labels=1
,fontsize.labels=30
,inflate.labels=TRUE
)
View(entities)
data <- read.csv("treemaps.csv",na.strings="")
data <- data[,1:3]
entities <- read.csv("C:/git/digital-platform/reference/entity.csv",na.strings="",as.is=TRUE)
entities$name[44] <- "Cote d'Ivoire"
entities$name[241] <- "Vietnam"
data <- merge(
data
,entities
,by.x="country.id"
,by.y="id"
)
depth <- subset(data,flow=="depth")
names(depth)[3] <- "depth"
oda <- subset(data,flow=="oda")
oda <- subset(oda,value>0)
oda <- merge(oda
,depth
,by=c("country.id")
,all.x=TRUE)
oda <- transform(oda,color=treeMapRamp(depth))
fdi <- subset(data,flow=="fdi")
fdi <- subset(fdi,value>0)
fdi <- merge(fdi
,depth
,by=c("country.id")
,all.x=TRUE)
fdi <- transform(fdi,color=treeMapRamp(depth))
longdebt <- subset(data,flow=="longdebt")
longdebt <- subset(longdebt,value>0)
longdebt <- merge(longdebt
,depth
,by=c("country.id")
,all.x=TRUE)
longdebt <- transform(longdebt,color=treeMapRamp(depth))
remittances <- subset(data,flow=="remittances")
remittances <- subset(remittances,value>0)
remittances <- merge(remittances
,depth
,by=c("country.id")
,all.x=TRUE)
remittances <- transform(remittances,color=treeMapRamp(depth))
treemap(oda
,index="name.y"
,vSize="value"
,vColor="color"
,type="color"
,title=""
#,fontcolor.labels=rgb(0,0,0,0)
,lowerbound.cex.labels=1
,fontsize.labels=30
,inflate.labels=TRUE
)
treemap(oda
,index="name.y"
,vSize="value"
,vColor="color"
,type="color"
,title=""
,lowerbound.cex.labels=1
,fontsize.labels=30
,inflate.labels=TRUE
)
treemap(fdi
,index="name.y"
,vSize="value"
,vColor="color"
,type="color"
,title=""
,lowerbound.cex.labels=1
,fontsize.labels=30
,inflate.labels=TRUE
)
treemap(remittances
,index="name.y"
,vSize="value"
,vColor="color"
,type="color"
,title=""
,lowerbound.cex.labels=1
,fontsize.labels=30
,inflate.labels=TRUE
)
treemap(longdebt
,index="name.y"
,vSize="value"
,vColor="color"
,type="color"
,title=""
,lowerbound.cex.labels=1
,fontsize.labels=30
,inflate.labels=TRUE
)
byCountry2014 <- fromJSON("http://www.d-portal.org/q?from=act%2Ctrans%2Ccountry&limit=-1&select=country_code%2Csum_of_percent_of_trans_usd&groupby=country_code&trans_code=D%7CE&trans_day_gteq=2014-01-01&trans_day_lt=2015-01-01&reporting_ref=GB-1&view=publisher_countries&_=1441812516302")
byCountry2014 <- fromJSON("http://www.d-portal.org/q?from=act%2Ctrans%2Ccountry&limit=-1&select=country_code%2Csum_of_percent_of_trans_usd&groupby=country_code&trans_code=D%7CE&trans_day_gteq=2014-01-01&trans_day_lt=2015-01-01&reporting_ref=GB-1&view=publisher_countries&_=1441812516302")[[1]]
View(byCountry2014)
getwd()
setwd("C:/git/alexm-util/DevInit/R/IDC/")
write.csv(byCountry2014,"byCountry2014.csv",row.names=FALSE,na="")
german2014 <- fromJSON("http://www.d-portal.org/q?from=act%2Ctrans%2Ccountry&limit=-1&select=country_code%2Csum_of_percent_of_trans_usd&groupby=country_code&trans_code=D%7CE&trans_day_gteq=2014-01-01&trans_day_lt=2015-01-01&reporting_ref=DE-1&view=publisher_countries&_=1441812516302")[[1]]
write.csv(german2014,"german2014.csv",row.names=FALSE,na="")
usa2014 <- fromJSON("http://www.d-portal.org/q?from=act%2Ctrans%2Ccountry&limit=-1&select=country_code%2Csum_of_percent_of_trans_usd&groupby=country_code&trans_code=D%7CE&trans_day_gteq=2014-01-01&trans_day_lt=2015-01-01&reporting_ref=US&view=publisher_countries&_=1441812516302")[[1]]
write.csv(usa2014,"usa2014.csv",row.names=FALSE,na="")
oda <- read.csv("C:/git/digital-platform/country-year/oda.csv")
names(oda)
dacPath <- "C:/git/alexm-util/DevInit/R/GHA/dac.csv"
dac <- read.csv(dacPath,header=T,as.is=T)
View(dac)
iso3Path <- "C:/git/alexm-util/DevInit/R/GHA/CRS-iso3.csv"
iso3s <- read.csv(iso3Path,as.is=T,header=T)
View(iso3s)
names(dac)
names(iso3s)
dac <- merge(
dac
,iso3s
,by.x="donorname"
,by.y="recipientname"
)
dac <- read.csv(dacPath,header=T,as.is=T)
View(dac)
dac <- read.csv(dacPath,header=T,as.is=T)["id"]
dac <- read.csv(dacPath,header=T,as.is=T)[,"id"]
oecd <- subset(oda,id %in% dac)
oda <- read.csv("C:/git/digital-platform/country-year/oda.csv",na.strings="",as.is=TRUE)
dacPath <- "C:/git/alexm-util/DevInit/R/GHA/dac.csv"
dac <- read.csv(dacPath,header=T,as.is=T)[,"id"]
oecd <- subset(oda,id %in% dac)
oecd <- subset(oda,id.from %in% dac)
oecd <- subset(oda,id.from %in% dac & year==2013)
oecd <- ddply(oecd,.(id.to,sector),summarize,sum=sum(value,na.rm=TRUE))
View(oecd)
dac <- read.csv(dacPath,header=T,as.is=T)[,"id"]
oecd <- subset(oda,id.from %in% dac & year==2013)
oecd <- ddply(oecd,.(sector),summarize,sum=sum(value,na.rm=TRUE))
View(oecd)
getwd()
write.csv(oecd,"wheredoesoecdodago.csv")
write.csv(oecd,"wheredoesoecdodago.csv",na="")
write.csv(oecd,"wheredoesoecdodago.csv",na="",row.names=FALSE)
sectors <- read.csv("C:/git/digital-platform/reference/sector.csv",as.is=TRUE)
oecd <- merge(
oecd
,sectors
,by.x="sector"
,by.y="id"
)
write.csv(oecd,"wheredoesoecdodago.csv",na="",row.names=FALSE)
write.csv(oecd,"wheredoesoecdodago.csv",na="",row.names=FALSE)
dacPath <- "C:/git/alexm-util/DevInit/R/GHA/dac.csv"
dac <- read.csv(dacPath,header=T,as.is=T)[,"id"]
oecd <- subset(oda,id.from %in% dac & year==2013)
isGB <- function(xVector){
results <- character(length(xVector))
for(i in 1:length(xVector)){
x <- xVector[i]
if(x=="GB"){
results[i] <- "GB"
}else{
results[i] <- "Other"
}
}
}
oecd <- transform(oecd,id.from=isGB(id.from))
oecd <- ddply(oecd,.(sector),summarize,sum=sum(value,na.rm=TRUE))
sectors <- read.csv("C:/git/digital-platform/reference/sector.csv",as.is=TRUE)
oecd <- merge(
oecd
,sectors
,by.x="sector"
,by.y="id"
)
write.csv(oecd,"wheredoesoecdodago.csv",na="",row.names=FALSE)
oecd <- subset(oda,id.from %in% dac & year==2013)
isGB <- function(xVector){
results <- character(length(xVector))
for(i in 1:length(xVector)){
x <- xVector[i]
if(x=="GB"){
results[i] <- "GB"
}else{
results[i] <- "Other"
}
}
}
oecd <- transform(oecd,id.from=isGB(id.from))
oecd <- ddply(oecd,.(id.from,sector),summarize,sum=sum(value,na.rm=TRUE))
sectors <- read.csv("C:/git/digital-platform/reference/sector.csv",as.is=TRUE)
oecd <- merge(
oecd
,sectors
,by.x="sector"
,by.y="id"
)
write.csv(oecd,"wheredoesoecdodago.csv",na="",row.names=FALSE)
dacPath <- "C:/git/alexm-util/DevInit/R/GHA/dac.csv"
dac <- read.csv(dacPath,header=T,as.is=T)[,"id"]
oecd <- subset(oda,id.from %in% dac & year==2013)
isGB <- function(xVector){
results <- character(length(xVector))
for(i in 1:length(xVector)){
x <- xVector[i]
if(x=="GB"){
results[i] <- "GB"
}else{
results[i] <- "Other"
}
}
}
oecd <- transform(oecd,id=isGB(id.from))
dacPath <- "C:/git/alexm-util/DevInit/R/GHA/dac.csv"
dac <- read.csv(dacPath,header=T,as.is=T)[,"id"]
oecd <- subset(oda,id.from %in% dac & year==2013)
isGB <- function(xVector){
results <- character(length(xVector))
for(i in 1:length(xVector)){
x <- xVector[i]
if(x=="GB"){
results[i] <- "GB"
}else{
results[i] <- "Other"
}
}
returl(results)
}
oecd <- transform(oecd,id.from=isGB(id.from))
oecd <- ddply(oecd,.(id.from,sector),summarize,sum=sum(value,na.rm=TRUE))
sectors <- read.csv("C:/git/digital-platform/reference/sector.csv",as.is=TRUE)
oecd <- merge(
oecd
,sectors
,by.x="sector"
,by.y="id"
)
write.csv(oecd,"wheredoesoecdodago.csv",na="",row.names=FALSE)
dacPath <- "C:/git/alexm-util/DevInit/R/GHA/dac.csv"
dac <- read.csv(dacPath,header=T,as.is=T)[,"id"]
oecd <- subset(oda,id.from %in% dac & year==2013)
isGB <- function(xVector){
results <- character(length(xVector))
for(i in 1:length(xVector)){
x <- xVector[i]
if(x=="GB"){
results[i] <- "GB"
}else{
results[i] <- "Other"
}
}
return(results)
}
oecd <- transform(oecd,id.from=isGB(id.from))
oecd <- ddply(oecd,.(id.from,sector),summarize,sum=sum(value,na.rm=TRUE))
sectors <- read.csv("C:/git/digital-platform/reference/sector.csv",as.is=TRUE)
oecd <- merge(
oecd
,sectors
,by.x="sector"
,by.y="id"
)
write.csv(oecd,"wheredoesoecdodago.csv",na="",row.names=FALSE)
